    <div class="row" *ngIf="orderPlacedFailure">
        <div class="col-md-5 col-12">
            <ngb-alert [type]="'danger'">
                <fa-icon [icon]="'exclamation-triangle'"></fa-icon>
                <span i18n="@@cartCheckoutOrderPlacedError">The order could not be placed, try again shortly</span>
            </ngb-alert>
        </div>
    </div>

    <div class="row justify-content-center mt-3" *ngIf="userEmailNotConfirmed">
        <div class="col-md-6 col-12">
            <div class="alert alert-warning">
                <fa-icon [icon]="'exclamation-triangle'" class="mr-2"></fa-icon>
                <span i18n="@@cartCheckoutEmailConfirmationError">To rent or buy items you need to confirm your email. You should have gotten an email with a confirmation link.</span>
            </div>
        </div>
    </div>

    <div class="row" *ngIf="orderError && !order && !userEmailNotConfirmed">
        <div class="col-12">
            <ngb-alert [type]="'danger'">
                <fa-icon [icon]="'exclamation-triangle'"></fa-icon>
                <span i18n="@@cartCheckoutOrderError">We have problems creating the order for you, please try again soon</span>
            </ngb-alert>
        </div>
    </div>

    <div class="row text-center mt-5 justify-content-center" *ngIf="showUserMustLogin">
        <div class="col-md-6 col-sm-12 col-12">
            <h5 i18n="@@cartCheckoutMustLoginError" class="text-secondary">You must login or register to place a order</h5>
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 col-sm-12 col-12">
                                    <button class="btn btn-success btn-block" (click)="goToLogin()" i18n="@@cartCheckoutLoginButton">Login</button>
                                </div>
                                <div class="col-md-6 col-sm-12 col-12 mt-md-0 mt-sm-2 mt-2">
                                    <button class="btn btn-info btn-block" (click)="goToRegister()" i18n="@@cartCheckoutRegisterButton">Register</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-2 justify-content-center" *ngIf="needToConfirmAgreement()">
        <div class="col-lg-6 col-md-8 col-sm-12 col-12">
            <app-cart-agreement [confirmed]="agreementConfirmed" (confirmedChange)="onConfirmAgreement($event)"></app-cart-agreement>
        </div>
    </div>

    <div class="row mt-4" *ngIf="!showUserMustLogin && ((order && agreementConfirmed) || !needToConfirmAgreement()) && !userEmailNotConfirmed">
        <div class="col-12">
            <div class="row justify-content-center" *ngIf="showPaymentDecision && !isOnlyCustomerItems()">
                <div class="col-lg-6 col-md-8 col-sm-12 col-12 bl-checkout-bar">
                    <ul class="nav nav-pills flex-row nav-justified">
                        <li class="nav-item" (click)="onPaymentDecicionChange('now')">
                            <a class="nav-link" [ngClass]="{'bl-nav-btn-active': paymentDecision === 'now'}">
                                <span i18n="@@cartCheckoutOptionPayNow">Pay now</span>
                            </a>
                        </li>
                        <li class="nav-item" (click)="onPaymentDecicionChange('later')">
                            <a class="nav-link" [ngClass]="{'bl-nav-btn-active': paymentDecision === 'later'}">
                                <span i18n="@@cartCheckoutOptionPayLater">Pay later</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="row mt-4 justify-content-center" *ngIf="paymentDecision === 'now'">
                <div class="col-auto">
                    <img src="../../../assets/dibs/img/DIBS_shop_vertical_EN_10.png" alt="DIBS - Payments made easy" width="200"/>
                </div>
            </div>

            <div class="row mt-4" *ngIf="showPaymentDecision && paymentDecision === 'now'" id="payNow">
                <div class="col-lg-6 col-md-12 col-sm-12 col-12 mt-lg-0 mt-md-2 mt-sm-2 mt-2" *ngIf="!isOnlyCustomerItems()">
                    <app-cart-delivery></app-cart-delivery>
                </div>
                <div class="col-lg-6 col-md-12 col-12 mt-lg-0 mt-md-2 mt-sm-2 mt-2" [ngClass]="{'col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12': isOnlyCustomerItems()}">
                    <div class="row">
                        <div class="col-12">
                            <app-cart-summary></app-cart-summary>
                        </div>
                        <div class="col-12 mt-4">
                            <app-cart-payment></app-cart-payment>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-3 justify-content-center" *ngIf="!showPaymentDecision || paymentDecision === 'later'">
                <div class="col-12" *ngIf="!userDetailValid">
                    <div class="row bl-cart-pay-later">
                        <div class="col-md-6 col-sm-12 col-12 text-secondary" i18n="@@cartCheckoutNeedUserInformation">
                            We need some user details before you can place the order
                        </div>
                        <div class="col-md-6 col-sm-12 col-12 mt-md-0 mt-sm-2 mt-2">
                            <button class="btn btn-block btn-outline-info" (click)="onEditUserDetailClick()">
                                <span i18n="@@cartCheckoutEditUserDetailButton">Edit your details</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 col-md-8 col-sm-12 col-12 bl-cart-pay-later" *ngIf="showPaymentDecision && userDetailValid">
                    <div class="row align-items-center">
                        <div class="col-md-6 col-sm-12 col-12 text-secondary">
                            <span i18n="@@cartCheckoutPay">Pay</span>
                            <b> {{getPrice() | blcPrice}} </b>
                            <span i18n="@@cartCheckoutLaterAt">later at</span>
                            <b *ngIf="branch"> {{branch.name}}</b>
                        </div>
                        <div class="col-md-6 col-sm-12 col-12 mt-md-0 mt-sm-2 mt-2">
                            <button class="btn btn-block btn-outline-success" (click)="onConfirmOrder()" i18n="@@cartCheckoutConfirmOrderButton">
                                Confirm order
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 col-md-8 col-sm-12 col-12 bl-cart-pay-later" *ngIf="!showPaymentDecision && userDetailValid">
                    <div class="row align-items-center">
                        <div class="col-md-6 col-sm-12 col-12 text-secondary" >
                            <span i18n="@@cartCheckoutRetrieveItemsAtBranch">Retrieve the items at</span>
                            <b> {{branch.name}}</b>
                        </div>
                        <div class="col-md-6 col-sm-12 col-12 mt-md-0 mt-sm-2 mt-2">
                            <button class="btn btn-block btn-outline-success" (click)="onConfirmOrder()" i18n="@@cartCheckoutConfirmOrderButton">
                                Confirm order
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
